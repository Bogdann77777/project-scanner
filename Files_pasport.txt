PROJECT ANALYZER - COMPLETE FILE PASSPORTS
–°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê
project_analyzer/
‚îú‚îÄ‚îÄ config.py
‚îú‚îÄ‚îÄ parser.py
‚îú‚îÄ‚îÄ analyzer.py
‚îú‚îÄ‚îÄ llm_describer.py
‚îú‚îÄ‚îÄ visualizer.py
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ ui/
    ‚îú‚îÄ‚îÄ app.py
    ‚îú‚îÄ‚îÄ templates/
    ‚îÇ   ‚îî‚îÄ‚îÄ index.html
    ‚îî‚îÄ‚îÄ static/
        ‚îú‚îÄ‚îÄ css/
        ‚îÇ   ‚îî‚îÄ‚îÄ styles.css
        ‚îî‚îÄ‚îÄ js/
            ‚îî‚îÄ‚îÄ graph.js

1. config.py
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ - API –∫–ª—é—á–∏, –º–æ–¥–µ–ª—å, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
–ò–º–ø–æ—Ä—Ç—ã:
pythonimport os
from dotenv import load_dotenv
–ö–æ–¥:
pythonload_dotenv()  # –ó–∞–≥—Ä—É–∂–∞–µ—Ç .env —Ñ–∞–π–ª

class Config:
    # OpenRouter API
    OPENROUTER_API_KEY = os.getenv("OPENROUTER_API_KEY", "")
    OPENROUTER_BASE_URL = "https://openrouter.ai/api/v1"
    
    # –ú–æ–¥–µ–ª—å –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏–π (–º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å —á–µ—Ä–µ–∑ UI)
    LLM_MODEL = os.getenv("LLM_MODEL", "anthropic/claude-3-5-haiku-20241022")
    
    # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏ (–¥–ª—è –≤—ã–±–æ—Ä–∞ –≤ UI)
    AVAILABLE_MODELS = [
        "anthropic/claude-3-5-haiku-20241022",
        "openai/gpt-4o-mini",
        "deepseek/deepseek-coder",
        "google/gemini-flash-1.5"
    ]
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω–∞–ª–∏–∑–∞
    MAX_FUNCTIONS_PER_BATCH = 10  # –°–∫–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–π –æ–ø–∏—Å—ã–≤–∞—Ç—å –∑–∞ —Ä–∞–∑
    SUPPORTED_EXTENSIONS = [".py", ".js", ".ts", ".jsx", ".tsx"]
    IGNORE_DIRS = ["node_modules", "__pycache__", ".git", "venv", "env", ".venv"]
    
    # UI –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    UI_PORT = 8000
    UI_HOST = "0.0.0.0"
    DEBUG = True
    
    # Timeouts
    LLM_TIMEOUT = 60  # —Å–µ–∫—É–Ω–¥ –Ω–∞ –æ–¥–∏–Ω –±–∞—Ç—á
    MAX_FILE_SIZE = 1024 * 1024  # 1MB –º–∞–∫—Å–∏–º—É–º –Ω–∞ —Ñ–∞–π–ª
–õ–æ–≥–∏–∫–∞:

–ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ .env
–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –µ—Å–ª–∏ .env –ø—É—Å—Ç–æ–π
–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –¥–ª—è UI dropdown


2. parser.py
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ê–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–µ—Ä –∫–æ–¥–∞ - —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª—ã, —Å—Ç—Ä–æ–∏—Ç AST, –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏/–∫–ª–∞—Å—Å—ã/–∏–º–ø–æ—Ä—Ç—ã
–ò–º–ø–æ—Ä—Ç—ã:
pythonimport ast
import os
from pathlib import Path
import json
from typing import Dict, List, Any, Optional
–ö–ª–∞—Å—Å CodeParser:
__init__(self, project_path: str)
pythonself.project_path = Path(project_path)
self.parsed_data = {
    'files': [],
    'functions': [],
    'classes': [],
    'imports': [],
    'call_graph': {}
}
parse_project(self) -> Dict[str, Any]
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:

–°–∫–∞–Ω–∏—Ä—É–µ—Ç self.project_path —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ
–ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ —Ñ–∞–π–ª—ã —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏ –∏–∑ Config.SUPPORTED_EXTENSIONS
–ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ø–∞–ø–∫–∏ –∏–∑ Config.IGNORE_DIRS
–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –≤—ã–∑—ã–≤–∞–µ—Ç parse_file()
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç self.parsed_data

–õ–æ–≥–∏–∫–∞:
pythonfor root, dirs, files in os.walk(self.project_path):
    # –£–¥–∞–ª—è–µ–º –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ –ø–∞–ø–∫–∏
    dirs[:] = [d for d in dirs if d not in Config.IGNORE_DIRS]
    
    for file in files:
        if any(file.endswith(ext) for ext in Config.SUPPORTED_EXTENSIONS):
            file_path = Path(root) / file
            self.parse_file(file_path)

return self.parsed_data
parse_file(self, file_path: Path) -> None
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:

–ß–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑–º–µ—Ä (–Ω–µ –±–æ–ª—å—à–µ Config.MAX_FILE_SIZE)
–ï—Å–ª–∏ .py - –ø–∞—Ä—Å–∏—Ç —á–µ—Ä–µ–∑ ast.parse()
–ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏, –∫–ª–∞—Å—Å—ã, –∏–º–ø–æ—Ä—Ç—ã
–î–æ–±–∞–≤–ª—è–µ—Ç –≤ self.parsed_data

–õ–æ–≥–∏–∫–∞:
pythontry:
    with open(file_path, 'r', encoding='utf-8') as f:
        content = f.read()
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞
    if len(content.encode('utf-8')) > Config.MAX_FILE_SIZE:
        return  # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã
    
    # –ü–∞—Ä—Å–∏–Ω–≥ Python
    if file_path.suffix == '.py':
        tree = ast.parse(content)
        self._extract_python(tree, file_path, content)
    
    # TODO: JS/TS –ø–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ esprima –∏–ª–∏ babel parser
    
except Exception as e:
    # –õ–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É, –Ω–æ –Ω–µ –ø–∞–¥–∞–µ–º
    print(f"Error parsing {file_path}: {e}")
_extract_python(self, tree: ast.AST, file_path: Path, content: str) -> None
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:

–û–±—Ö–æ–¥–∏—Ç AST –¥–µ—Ä–µ–≤–æ
–î–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (ast.FunctionDef) –≤—ã–∑—ã–≤–∞–µ—Ç _extract_function()
–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ (ast.ClassDef) –≤—ã–∑—ã–≤–∞–µ—Ç _extract_class()
–î–ª—è –∏–º–ø–æ—Ä—Ç–æ–≤ (ast.Import, ast.ImportFrom) –≤—ã–∑—ã–≤–∞–µ—Ç _extract_import()

–õ–æ–≥–∏–∫–∞:
pythonfor node in ast.walk(tree):
    if isinstance(node, ast.FunctionDef):
        self._extract_function(node, file_path, content)
    elif isinstance(node, ast.ClassDef):
        self._extract_class(node, file_path, content)
    elif isinstance(node, (ast.Import, ast.ImportFrom)):
        self._extract_import(node, file_path)
_extract_function(self, node: ast.FunctionDef, file_path: Path, content: str) -> Dict
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:

–ò–∑–≤–ª–µ–∫–∞–µ—Ç –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã (args)
Return type –µ—Å–ª–∏ –µ—Å—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è
–°—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞ (–Ω–∞—á–∞–ª–æ/–∫–æ–Ω–µ—Ü)
–°–∞–º –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ (–∏–∑ content –ø–æ —Å—Ç—Ä–æ–∫–∞–º)
Docstring –µ—Å–ª–∏ –µ—Å—Ç—å
–í—ã–∑–æ–≤—ã –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤–Ω—É—Ç—Ä–∏ (_extract_calls())

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
python{
    'name': 'parse_data',
    'file': 'parser.py',
    'line_start': 45,
    'line_end': 67,
    'params': ['data', 'config'],
    'return_type': 'Dict[str, Any]',  # –µ—Å–ª–∏ –µ—Å—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è
    'code': '... –ø–æ–ª–Ω—ã–π –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ ...',
    'docstring': '... –µ—Å–ª–∏ –µ—Å—Ç—å ...',
    'calls': ['helper_func', 'another_func'],  # –∫–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–∑—ã–≤–∞–µ—Ç
    'is_async': False,
    'decorators': ['@staticmethod']  # –µ—Å–ª–∏ –µ—Å—Ç—å
}
–õ–æ–≥–∏–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è calls:
pythoncalls = []
for sub_node in ast.walk(node):
    if isinstance(sub_node, ast.Call):
        if isinstance(sub_node.func, ast.Name):
            calls.append(sub_node.func.id)
        elif isinstance(sub_node.func, ast.Attribute):
            calls.append(sub_node.func.attr)
_extract_class(self, node: ast.ClassDef, file_path: Path, content: str) -> Dict
–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–æ –¥–ª—è –∫–ª–∞—Å—Å–∞:
python{
    'name': 'Parser',
    'file': 'parser.py',
    'line_start': 10,
    'line_end': 100,
    'methods': [...],  # —Å–ø–∏—Å–æ–∫ –º–µ—Ç–æ–¥–æ–≤ (–∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏–∏)
    'bases': ['BaseParser'],  # —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∫–ª–∞—Å—Å—ã
    'docstring': '...'
}
_extract_import(self, node: Union[ast.Import, ast.ImportFrom], file_path: Path) -> Dict
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
python{
    'file': 'parser.py',
    'line': 5,
    'module': 'ast',  # —á—Ç–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º
    'names': ['parse', 'walk'],  # –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏–º–µ–Ω–∞
    'alias': None  # –µ—Å–ª–∏ –µ—Å—Ç—å 'as'
}
build_call_graph(self) -> Dict[str, List[str]]
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:

–î–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Å–º–æ—Ç—Ä–∏—Ç calls
–°—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ: {function_name: [called_func1, called_func2]}

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
python{
    'parse_data': ['read_file', 'validate'],
    'read_file': ['open', 'decode'],
    'validate': []
}

3. analyzer.py
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ù–∞—Ö–æ–¥–∏—Ç –ø—Ä–æ–±–ª–µ–º—ã –≤ –∫–æ–¥–µ - –º–µ—Ä—Ç–≤—ã–π –∫–æ–¥, –æ–±—Ä—ã–≤—ã, –∑–∞–≥–ª—É—à–∫–∏
–ò–º–ø–æ—Ä—Ç—ã:
pythonimport ast
from typing import Dict, List, Any, Set
import networkx as nx
–ö–ª–∞—Å—Å CodeAnalyzer:
__init__(self, parsed_data: Dict[str, Any])
pythonself.parsed_data = parsed_data
self.issues = []
self.call_graph = nx.DiGraph()  # –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –≥—Ä–∞—Ñ
self._build_graph()
_build_graph(self) -> None
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–°—Ç—Ä–æ–∏—Ç networkx –≥—Ä–∞—Ñ –∏–∑ call_graph –¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä—Å–µ—Ä–∞
pythonfor func in self.parsed_data['functions']:
    self.call_graph.add_node(func['name'])
    for called in func.get('calls', []):
        self.call_graph.add_edge(func['name'], called)
analyze(self) -> List[Dict]
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º
pythonself.find_dead_code()
self.find_broken_calls()
self.find_placeholders()
self.find_missing_returns()
self.find_unused_imports()
return self.issues
find_dead_code(self) -> None
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ù–∞—Ö–æ–¥–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏–∫—Ç–æ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç (–Ω–µ—Ç –≤—Ö–æ–¥—è—â–∏—Ö —Ä–µ–±–µ—Ä –≤ –≥—Ä–∞—Ñ–µ)
–õ–æ–≥–∏–∫–∞:
pythonfor func in self.parsed_data['functions']:
    func_name = func['name']
    
    # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º entry points
    if func_name in ['main', '__init__', '__main__']:
        continue
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ –≤—Ö–æ–¥—è—â–∏–µ –≤—ã–∑–æ–≤—ã
    if self.call_graph.in_degree(func_name) == 0:
        self.issues.append({
            'type': 'dead_code',
            'severity': 'warning',
            'file': func['file'],
            'line': func['line_start'],
            'function': func_name,
            'message': f"Function '{func_name}' is never called"
        })
find_broken_calls(self) -> None
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ù–∞—Ö–æ–¥–∏—Ç –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –ø—Ä–æ–µ–∫—Ç–µ
–õ–æ–≥–∏–∫–∞:
pythonall_functions = {f['name'] for f in self.parsed_data['functions']}
all_imports = {imp['module'] for imp in self.parsed_data['imports']}

for func in self.parsed_data['functions']:
    for called in func.get('calls', []):
        # –ï—Å–ª–∏ –≤—ã–∑–æ–≤ –Ω–µ –≤ —Å–ø–∏—Å–∫–µ —Ñ—É–Ω–∫—Ü–∏–π –∏ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω
        if called not in all_functions and called not in all_imports:
            # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ (print, len, etc.)
            if called not in dir(__builtins__):
                self.issues.append({
                    'type': 'broken_call',
                    'severity': 'error',
                    'file': func['file'],
                    'line': func['line_start'],
                    'function': func['name'],
                    'message': f"Calls undefined function '{called}'"
                })
find_placeholders(self) -> None
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ò—â–µ—Ç –≤ –∫–æ–¥–µ —Ñ—É–Ω–∫—Ü–∏–π: pass, TODO, FIXME, raise NotImplementedError
–õ–æ–≥–∏–∫–∞:
pythonfor func in self.parsed_data['functions']:
    code = func['code']
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ pass (–µ—Å–ª–∏ —ç—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞)
    if code.strip() == 'pass':
        self.issues.append({
            'type': 'placeholder',
            'severity': 'warning',
            'file': func['file'],
            'line': func['line_start'],
            'function': func['name'],
            'message': f"Function '{func['name']}' is empty (only 'pass')"
        })
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º TODO/FIXME
    if 'TODO' in code or 'FIXME' in code:
        self.issues.append({
            'type': 'placeholder',
            'severity': 'info',
            'file': func['file'],
            'line': func['line_start'],
            'function': func['name'],
            'message': f"Function '{func['name']}' has TODO/FIXME comment"
        })
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º NotImplementedError
    if 'NotImplementedError' in code:
        self.issues.append({
            'type': 'placeholder',
            'severity': 'warning',
            'file': func['file'],
            'line': func['line_start'],
            'function': func['name'],
            'message': f"Function '{func['name']}' raises NotImplementedError"
        })
find_missing_returns(self) -> None
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ù–∞—Ö–æ–¥–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏ —Å return type –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π, –Ω–æ –±–µ–∑ return statement
–õ–æ–≥–∏–∫–∞:
pythonfor func in self.parsed_data['functions']:
    # –ï—Å–ª–∏ –µ—Å—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è return –∏ —ç—Ç–æ –Ω–µ None/void
    if func.get('return_type') and func['return_type'] != 'None':
        code = func['code']
        
        # –ò—â–µ–º 'return' –≤ –∫–æ–¥–µ (–ø—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
        if 'return' not in code:
            self.issues.append({
                'type': 'missing_return',
                'severity': 'error',
                'file': func['file'],
                'line': func['line_start'],
                'function': func['name'],
                'message': f"Function expects return type '{func['return_type']}' but has no return"
            })
find_unused_imports(self) -> None
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ù–∞—Ö–æ–¥–∏—Ç –∏–º–ø–æ—Ä—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–æ–¥–µ —Ñ–∞–π–ª–∞
–õ–æ–≥–∏–∫–∞:
python# –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –∏–º–ø–æ—Ä—Ç—ã –ø–æ —Ñ–∞–π–ª–∞–º
imports_by_file = {}
for imp in self.parsed_data['imports']:
    file = imp['file']
    if file not in imports_by_file:
        imports_by_file[file] = []
    imports_by_file[file].extend(imp['names'])

# –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–º–µ–Ω–∞ –≤ —Ñ–∞–π–ª–µ
for file, imports in imports_by_file.items():
    # –ù–∞—Ö–æ–¥–∏–º –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ
    file_funcs = [f for f in self.parsed_data['functions'] if f['file'] == file]
    
    # –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –≤—ã–∑–æ–≤—ã
    used_names = set()
    for func in file_funcs:
        used_names.update(func.get('calls', []))
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
    for imp_name in imports:
        if imp_name not in used_names:
            self.issues.append({
                'type': 'unused_import',
                'severity': 'info',
                'file': file,
                'line': 0,  # TODO: –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É –∏–º–ø–æ—Ä—Ç–∞
                'message': f"Import '{imp_name}' is not used"
            })

4. llm_describer.py
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π —á–µ—Ä–µ–∑ LLM (OpenRouter API)
–ò–º–ø–æ—Ä—Ç—ã:
pythonimport requests
import json
from typing import List, Dict, Any
from config import Config
import time
–ö–ª–∞—Å—Å FunctionDescriber:
__init__(self, api_key: str = None, model: str = None)
pythonself.api_key = api_key or Config.OPENROUTER_API_KEY
self.model = model or Config.LLM_MODEL
self.base_url = Config.OPENROUTER_BASE_URL
self.timeout = Config.LLM_TIMEOUT
describe_functions_batch(self, functions: List[Dict]) -> List[Dict]
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:

–ë–µ—Ä–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–π (–¥–æ Config.MAX_FUNCTIONS_PER_BATCH)
–§–æ—Ä–º–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç —á–µ—Ä–µ–∑ _build_prompt()
–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ OpenRouter API
–ü–∞—Ä—Å–∏—Ç –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ _parse_response()
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ —Å –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–º –ø–æ–ª–µ–º description

–õ–æ–≥–∏–∫–∞:
pythonprompt = self._build_prompt(functions)

headers = {
    'Authorization': f'Bearer {self.api_key}',
    'Content-Type': 'application/json',
    'HTTP-Referer': 'http://localhost:8000',  # Required by OpenRouter
}

data = {
    'model': self.model,
    'messages': [
        {'role': 'user', 'content': prompt}
    ],
    'temperature': 0.3,  # –ù–∏–∑–∫–∞—è –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏
    'max_tokens': 2000
}

try:
    response = requests.post(
        f'{self.base_url}/chat/completions',
        headers=headers,
        json=data,
        timeout=self.timeout
    )
    response.raise_for_status()
    
    result = response.json()
    description_text = result['choices'][0]['message']['content']
    
    return self._parse_response(description_text, functions)
    
except Exception as e:
    print(f"LLM error: {e}")
    # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º
    for func in functions:
        func['description'] = f"Function {func['name']} (description generation failed)"
    return functions
_build_prompt(self, functions: List[Dict]) -> str
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–º–ø—Ç –¥–ª—è LLM —Å —á–µ—Ç–∫–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
–ü—Ä–æ–º–ø—Ç:
pythonprompt = """–¢—ã - –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –∫–æ–¥–∞. –û–ø–∏—à–∏ –î–ï–¢–ê–õ–¨–ù–û –∫–∞–∂–¥—É—é —Ñ—É–Ω–∫—Ü–∏—é –Ω–∏–∂–µ.

–î–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–ø–∏—à–∏:
1. –ß—Ç–æ –æ–Ω–∞ –¥–µ–ª–∞–µ—Ç (–æ—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å)
2. –ö–ê–ö –æ–Ω–∞ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç (–ª–æ–≥–∏–∫–∞, —à–∞–≥–∏)
3. –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç
4. –ö–∞–∫–∏–µ –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏/–º–æ–¥—É–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç

–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ - JSON –º–∞—Å—Å–∏–≤:
[
  {
    "name": "function_name",
    "description": "–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ..."
  }
]

–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:
"""

for i, func in enumerate(functions, 1):
    prompt += f"\n\n--- –§—É–Ω–∫—Ü–∏—è {i} ---\n"
    prompt += f"–ò–º—è: {func['name']}\n"
    prompt += f"–§–∞–π–ª: {func['file']}\n"
    prompt += f"–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: {func.get('params', [])}\n"
    if func.get('docstring'):
        prompt += f"Docstring: {func['docstring']}\n"
    prompt += f"–ö–æ–¥:\n```python\n{func['code']}\n```\n"

return prompt
_parse_response(self, response_text: str, functions: List[Dict]) -> List[Dict]
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ü–∞—Ä—Å–∏—Ç JSON –æ—Ç–≤–µ—Ç –æ—Ç LLM –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è –∫ —Ñ—É–Ω–∫—Ü–∏—è–º
–õ–æ–≥–∏–∫–∞:
pythontry:
    # –ü—ã—Ç–∞–µ–º—Å—è —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å JSON
    descriptions = json.loads(response_text)
    
    # –°–æ–∑–¥–∞–µ–º —Å–ª–æ–≤–∞—Ä—å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
    desc_map = {d['name']: d['description'] for d in descriptions}
    
    # –î–æ–±–∞–≤–ª—è–µ–º –æ–ø–∏—Å–∞–Ω–∏—è –∫ —Ñ—É–Ω–∫—Ü–∏—è–º
    for func in functions:
        func['description'] = desc_map.get(
            func['name'],
            f"Function {func['name']} (no description provided)"
        )
    
    return functions
    
except json.JSONDecodeError:
    # –ï—Å–ª–∏ LLM –≤–µ—Ä–Ω—É–ª –Ω–µ JSON, –ø—ã—Ç–∞–µ–º—Å—è –∏–∑–≤–ª–µ—á—å —Ç–µ–∫—Å—Ç
    # (fallback –ª–æ–≥–∏–∫–∞)
    for func in functions:
        func['description'] = f"Function {func['name']} - parsing failed"
    return functions
describe_all_functions(self, all_functions: List[Dict], progress_callback=None) -> List[Dict]
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –í–°–ï —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –±–∞—Ç—á–∞–º–∏
–õ–æ–≥–∏–∫–∞:
pythondescribed = []
total = len(all_functions)
batch_size = Config.MAX_FUNCTIONS_PER_BATCH

for i in range(0, total, batch_size):
    batch = all_functions[i:i+batch_size]
    
    if progress_callback:
        progress = 60 + (i / total) * 30  # 60-90% –æ–±—â–µ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        progress_callback(f"Describing functions {i+1}-{min(i+batch_size, total)}...", progress)
    
    described_batch = self.describe_functions_batch(batch)
    described.extend(described_batch)
    
    # –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –±–∞—Ç—á–∞–º–∏ (rate limiting)
    if i + batch_size < total:
        time.sleep(1)

return described

5. visualizer.py
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ì–æ—Ç–æ–≤–∏—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è UI - –≥—Ä–∞—Ñ, –¥–µ—Ä–µ–≤–æ —Ñ–∞–π–ª–æ–≤, —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º
–ò–º–ø–æ—Ä—Ç—ã:
pythonimport json
from typing import Dict, List, Any
from pathlib import Path
–ö–ª–∞—Å—Å DataVisualizer:
__init__(self, parsed_data: Dict, issues: List[Dict], descriptions: List[Dict])
pythonself.parsed_data = parsed_data
self.issues = issues
self.functions = descriptions  # —Ñ—É–Ω–∫—Ü–∏–∏ —Å –æ–ø–∏—Å–∞–Ω–∏—è–º–∏
self.classes = parsed_data['classes']
prepare_all_data(self) -> Dict[str, Any]
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–í—ã–∑—ã–≤–∞–µ—Ç –≤—Å–µ prepare –º–µ—Ç–æ–¥—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–∏–Ω –±–æ–ª—å—à–æ–π JSON
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
python{
    'graph': self.prepare_graph_data(),
    'file_tree': self.prepare_file_tree(),
    'issues': self.prepare_issues_list(),
    'stats': self.prepare_stats()
}
prepare_graph_data(self) -> Dict[str, Any]
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–°–æ–∑–¥–∞–µ—Ç nodes –∏ edges –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∞
–§–æ—Ä–º–∞—Ç –¥–ª—è vis.js:
pythonnodes = []
edges = []

# –°–æ–∑–¥–∞–µ–º –Ω–æ–¥—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π
for func in self.functions:
    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ü–≤–µ—Ç –ø–æ –ø—Ä–æ–±–ª–µ–º–∞–º
    color = self._get_node_color(func)
    
    nodes.append({
        'id': func['name'],
        'label': func['name'],
        'title': func.get('description', ''),  # Hover tooltip
        'group': func['file'],  # –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ñ–∞–π–ª–∞–º
        'color': color,
        'font': {'color': '#ffffff'},
        'data': {  # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            'file': func['file'],
            'line': func['line_start'],
            'params': func.get('params', []),
            'code': func['code'],
            'description': func.get('description', '')
        }
    })

# –°–æ–∑–¥–∞–µ–º —Ä–µ–±—Ä–∞ (–≤—ã–∑–æ–≤—ã)
for func in self.functions:
    for called in func.get('calls', []):
        edges.append({
            'from': func['name'],
            'to': called,
            'arrows': 'to',
            'color': {'color': '#666666'}
        })

return {
    'nodes': nodes,
    'edges': edges
}
_get_node_color(self, func: Dict) -> str
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ü–≤–µ—Ç –Ω–æ–¥—ã –ø–æ —Ç–∏–ø—É –ø—Ä–æ–±–ª–µ–º—ã
–õ–æ–≥–∏–∫–∞:
pythonfunc_issues = [
    issue for issue in self.issues
    if issue.get('function') == func['name']
]

if not func_issues:
    return '#4CAF50'  # –ó–µ–ª–µ–Ω—ã–π - –≤—Å–µ –æ–∫

# –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: error > warning > info
severities = [issue['severity'] for issue in func_issues]

if 'error' in severities:
    return '#F44336'  # –ö—Ä–∞—Å–Ω—ã–π
elif 'warning' in severities:
    return '#FF9800'  # –û—Ä–∞–Ω–∂–µ–≤—ã–π
else:
    return '#2196F3'  # –°–∏–Ω–∏–π
prepare_file_tree(self) -> List[Dict]
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–°—Ç—Ä–æ–∏—Ç –¥–µ—Ä–µ–≤–æ –ø–∞–ø–æ–∫ –∏ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
–§–æ—Ä–º–∞—Ç:
pythontree = {}

for func in self.functions:
    file_path = func['file']
    parts = Path(file_path).parts
    
    # –°—Ç—Ä–æ–∏–º –≤–ª–æ–∂–µ–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
    current = tree
    for part in parts:
        if part not in current:
            current[part] = {}
        current = current[part]

# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ —Å–ø–∏—Å–æ–∫ –¥–ª—è UI
def dict_to_tree(d, parent=''):
    result = []
    for key, value in d.items():
        node = {
            'name': key,
            'path': f"{parent}/{key}" if parent else key,
            'type': 'folder' if value else 'file',
            'children': dict_to_tree(value, f"{parent}/{key}") if value else []
        }
        result.append(node)
    return result

return dict_to_tree(tree)
prepare_issues_list(self) -> Dict[str, List[Dict]]
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã –ø–æ —Ç–∏–ø–∞–º
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
pythongrouped = {
    'errors': [],
    'warnings': [],
    'info': []
}

for issue in self.issues:
    severity = issue['severity']
    if severity == 'error':
        grouped['errors'].append(issue)
    elif severity == 'warning':
        grouped['warnings'].append(issue)
    else:
        grouped['info'].append(issue)

# –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —Ñ–∞–π–ª—É –∏ —Å—Ç—Ä–æ–∫–µ
for category in grouped.values():
    category.sort(key=lambda x: (x['file'], x.get('line', 0)))

return grouped
prepare_stats(self) -> Dict[str, int]
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–°—á–∏—Ç–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ–µ–∫—Ç–∞
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
python{
    'total_files': len(set(f['file'] for f in self.functions)),
    'total_functions': len(self.functions),
    'total_classes': len(self.classes),
    'total_issues': len(self.issues),
    'errors': len([i for i in self.issues if i['severity'] == 'error']),
    'warnings': len([i for i in self.issues if i['severity'] == 'warning']),
    'dead_code': len([i for i in self.issues if i['type'] == 'dead_code']),
    'placeholders': len([i for i in self.issues if i['type'] == 'placeholder'])
}

6. main.py
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä - —Å–≤—è–∑—ã–≤–∞–µ—Ç –≤—Å–µ –º–æ–¥—É–ª–∏, —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ–º –∞–Ω–∞–ª–∏–∑–∞
–ò–º–ø–æ—Ä—Ç—ã:
pythonfrom pathlib import Path
from typing import Dict, Any, Callable, Optional
import json
from config import Config
from parser import CodeParser
from analyzer import CodeAnalyzer
from llm_describer import FunctionDescriber
from visualizer import DataVisualizer
–ö–ª–∞—Å—Å ProjectAnalyzer:
__init__(self, config: Config = None)
pythonself.config = config or Config()
self.results = None
analyze_project(self, project_path: str, progress_callback: Optional[Callable] = None) -> Dict[str, Any]
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–µ–∫—Ç–∞
–õ–æ–≥–∏–∫–∞:
pythontry:
    # –≠—Ç–∞–ø 1: –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (10-40%)
    if progress_callback:
        progress_callback("Parsing project structure...", 10)
    
    parser = CodeParser(project_path)
    parsed_data = parser.parse_project()
    
    if progress_callback:
        progress_callback("Building call graph...", 30)
    
    call_graph = parser.build_call_graph()
    parsed_data['call_graph'] = call_graph
    
    # –≠—Ç–∞–ø 2: –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º (40-60%)
    if progress_callback:
        progress_callback("Analyzing code issues...", 40)
    
    analyzer = CodeAnalyzer(parsed_data)
    issues = analyzer.analyze()
    
    # –≠—Ç–∞–ø 3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏–π —á–µ—Ä–µ–∑ LLM (60-90%)
    if progress_callback:
        progress_callback("Generating function descriptions...", 60)
    
    describer = FunctionDescriber(
        api_key=self.config.OPENROUTER_API_KEY,
        model=self.config.LLM_MODEL
    )
    
    functions_with_descriptions = describer.describe_all_functions(
        parsed_data['functions'],
        progress_callback=progress_callback
    )
    
    # –≠—Ç–∞–ø 4: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (90-100%)
    if progress_callback:
        progress_callback("Preparing visualization...", 90)
    
    visualizer = DataVisualizer(
        parsed_data={'functions': functions_with_descriptions, 'classes': parsed_data['classes']},
        issues=issues,
        descriptions=functions_with_descriptions
    )
    
    self.results = visualizer.prepare_all_data()
    
    if progress_callback:
        progress_callback("Analysis complete!", 100)
    
    return self.results

except Exception as e:
    if progress_callback:
        progress_callback(f"Error: {str(e)}", -1)
    raise
save_results(self, output_path: str) -> None
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ JSON —Ñ–∞–π–ª
pythonif not self.results:
    raise ValueError("No results to save. Run analyze_project() first.")

with open(output_path, 'w', encoding='utf-8') as f:
    json.dump(self.results, f, indent=2, ensure_ascii=False)
load_results(self, input_path: str) -> Dict[str, Any]
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ JSON —Ñ–∞–π–ª–∞
pythonwith open(input_path, 'r', encoding='utf-8') as f:
    self.results = json.load(f)
return self.results

7. ui/app.py
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: Flask –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–ª—è UI
–ò–º–ø–æ—Ä—Ç—ã:
pythonfrom flask import Flask, render_template, request, jsonify, send_from_directory
from pathlib import Path
import json
import os
import threading
from typing import Dict
from config import Config
from main import ProjectAnalyzer
Flask App Setup:
pythonapp = Flask(__name__)
app.config['SECRET_KEY'] = 'dev-secret-key-change-in-production'
app.config['MAX_CONTENT_LENGTH'] = 100 * 1024 * 1024  # 100MB max upload

# –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞ (–≤ –ø–∞–º—è—Ç–∏)
# –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis –∏–ª–∏ –ë–î
analysis_results = {}
analysis_progress = {}
–†–æ—É—Ç—ã:
GET /
python@app.route('/')
def index():
    """–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞"""
    return render_template('index.html', config={
        'models': Config.AVAILABLE_MODELS,
        'current_model': Config.LLM_MODEL
    })
POST /analyze
python@app.route('/analyze', methods=['POST'])
def analyze():
    """
    –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É, –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞–Ω–∞–ª–∏–∑ –≤ —Ñ–æ–Ω–µ
    
    Body: {
        "project_path": "/path/to/project"
    }
    
    Returns: {
        "project_id": "abc123",
        "status": "started"
    }
    """
    data = request.json
    project_path = data.get('project_path')
    
    if not project_path or not Path(project_path).exists():
        return jsonify({'error': 'Invalid project path'}), 400
    
    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º ID –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞
    import uuid
    project_id = str(uuid.uuid4())
    
    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
    analysis_progress[project_id] = {
        'status': 'running',
        'message': 'Starting analysis...',
        'progress': 0
    }
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∞–ª–∏–∑ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
    def run_analysis():
        try:
            analyzer = ProjectAnalyzer(Config)
            
            def progress_callback(message, progress):
                analysis_progress[project_id] = {
                    'status': 'running',
                    'message': message,
                    'progress': progress
                }
            
            results = analyzer.analyze_project(project_path, progress_callback)
            
            # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            analysis_results[project_id] = results
            analysis_progress[project_id] = {
                'status': 'completed',
                'message': 'Analysis complete!',
                'progress': 100
            }
            
        except Exception as e:
            analysis_progress[project_id] = {
                'status': 'error',
                'message': str(e),
                'progress': -1
            }
    
    thread = threading.Thread(target=run_analysis)
    thread.start()
    
    return jsonify({
        'project_id': project_id,
        'status': 'started'
    })
GET /progress/<project_id>
python@app.route('/progress/<project_id>')
def get_progress(project_id):
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∞–Ω–∞–ª–∏–∑–∞
    
    Returns: {
        "status": "running|completed|error",
        "message": "Parsing project...",
        "progress": 45
    }
    """
    if project_id not in analysis_progress:
        return jsonify({'error': 'Unknown project'}), 404
    
    return jsonify(analysis_progress[project_id])
GET /results/<project_id>
python@app.route('/results/<project_id>')
def get_results(project_id):
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞
    
    Returns: {
        "graph": {...},
        "file_tree": [...],
        "issues": {...},
        "stats": {...}
    }
    """
    if project_id not in analysis_results:
        return jsonify({'error': 'Results not found'}), 404
    
    return jsonify(analysis_results[project_id])
GET /config
python@app.route('/config')
def get_config():
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
    
    Returns: {
        "model": "anthropic/claude-3-5-haiku",
        "available_models": [...],
        "api_key_set": true
    }
    """
    return jsonify({
        'model': Config.LLM_MODEL,
        'available_models': Config.AVAILABLE_MODELS,
        'api_key_set': bool(Config.OPENROUTER_API_KEY)
    })
POST /config/model
python@app.route('/config/model', methods=['POST'])
def update_model():
    """
    –û–±–Ω–æ–≤–ª—è–µ—Ç –º–æ–¥–µ–ª—å LLM
    
    Body: {
        "model": "openai/gpt-4o-mini"
    }
    """
    data = request.json
    new_model = data.get('model')
    
    if new_model not in Config.AVAILABLE_MODELS:
        return jsonify({'error': 'Invalid model'}), 400
    
    Config.LLM_MODEL = new_model
    return jsonify({'success': True, 'model': new_model})
Main:
pythonif __name__ == '__main__':
    app.run(
        host=Config.UI_HOST,
        port=Config.UI_PORT,
        debug=Config.DEBUG
    )

8. ui/templates/index.html
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ UI
HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
html<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Analyzer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header>
        <h1>Project Analyzer</h1>
        <button id="settingsBtn" class="settings-btn">‚öôÔ∏è Settings</button>
    </header>

    <!-- Main Container -->
    <div class="container">
        <!-- Upload Section (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–æ –∞–Ω–∞–ª–∏–∑–∞) -->
        <div id="uploadSection" class="upload-section">
            <div class="upload-zone" id="uploadZone">
                <div class="upload-icon">üìÅ</div>
                <p>Drag & Drop project folder here</p>
                <p class="or">or</p>
                <input type="file" id="folderInput" webkitdirectory directory multiple style="display: none;">
                <button id="browseBtn" class="btn-primary">Browse Folder</button>
            </div>
            
            <div id="selectedPath" class="selected-path" style="display: none;">
                <span id="pathText"></span>
            </div>
            
            <button id="analyzeBtn" class="btn-analyze" style="display: none;">
                Start Analysis
            </button>
        </div>

        <!-- Progress Section (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞) -->
        <div id="progressSection" class="progress-section" style="display: none;">
            <h2>Analyzing Project...</h2>
            <div class="progress-bar">
                <div id="progressFill" class="progress-fill"></div>
            </div>
            <p id="progressMessage">Initializing...</p>
            <p id="progressPercent">0%</p>
        </div>

        <!-- Results Section (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞) -->
        <div id="resultsSection" class="results-section" style="display: none;">
            <!-- Stats Bar -->
            <div class="stats-bar">
                <div class="stat-item">
                    <span class="stat-label">Files</span>
                    <span class="stat-value" id="statFiles">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Functions</span>
                    <span class="stat-value" id="statFunctions">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Classes</span>
                    <span class="stat-value" id="statClasses">0</span>
                </div>
                <div class="stat-item error">
                    <span class="stat-label">Errors</span>
                    <span class="stat-value" id="statErrors">0</span>
                </div>
                <div class="stat-item warning">
                    <span class="stat-label">Warnings</span>
                    <span class="stat-value" id="statWarnings">0</span>
                </div>
            </div>

            <!-- Main Content Area -->
            <div class="main-content">
                <!-- Left Panel: File Tree -->
                <div class="left-panel">
                    <h3>Project Files</h3>
                    <div id="fileTree" class="file-tree"></div>
                </div>

                <!-- Center Panel: Graph -->
                <div class="center-panel">
                    <div class="graph-controls">
                        <button id="zoomInBtn">üîç +</button>
                        <button id="zoomOutBtn">üîç -</button>
                        <button id="resetZoomBtn">‚ü≤ Reset</button>
                        <button id="fitBtn">‚õ∂ Fit All</button>
                    </div>
                    <div id="graphContainer" class="graph-container"></div>
                </div>

                <!-- Right Panel: Issues -->
                <div class="right-panel">
                    <h3>Issues</h3>
                    <div class="issues-tabs">
                        <button class="tab-btn active" data-tab="errors">Errors <span id="errorCount" class="badge">0</span></button>
                        <button class="tab-btn" data-tab="warnings">Warnings <span id="warningCount" class="badge">0</span></button>
                        <button class="tab-btn" data-tab="info">Info <span id="infoCount" class="badge">0</span></button>
                    </div>
                    <div id="issuesList" class="issues-list"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal: Function Details -->
    <div id="functionModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modalFunctionName"></h2>
            <div class="modal-body">
                <div class="modal-section">
                    <h4>File</h4>
                    <p id="modalFile"></p>
                </div>
                <div class="modal-section">
                    <h4>Parameters</h4>
                    <p id="modalParams"></p>
                </div>
                <div class="modal-section">
                    <h4>Description</h4>
                    <p id="modalDescription"></p>
                </div>
                <div class="modal-section">
                    <h4>Code</h4>
                    <pre id="modalCode"></pre>
                </div>
                <div class="modal-section">
                    <h4>Dependencies</h4>
                    <p id="modalCalls"></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal: Settings -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Settings</h2>
            <div class="modal-body">
                <div class="setting-item">
                    <label for="modelSelect">LLM Model</label>
                    <select id="modelSelect">
                        {% for model in config.models %}
                        <option value="{{ model }}" {% if model == config.current_model %}selected{% endif %}>
                            {{ model }}
                        </option>
                        {% endfor %}
                    </select>
                </div>
                <button id="saveSettingsBtn" class="btn-primary">Save</button>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/graph.js') }}"></script>
</body>
</html>

9. ui/static/css/styles.css
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°—Ç–∏–ª–∏ –¥–ª—è UI (—Ç–µ–º–Ω–∞—è —Ç–µ–º–∞)
css/* ===== –ë–ê–ó–û–í–´–ï –°–¢–ò–õ–ò ===== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #1a1a1a;
    color: #e0e0e0;
    overflow: hidden;
}

/* ===== HEADER ===== */
header {
    background: #252525;
    padding: 1rem 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px solid #333;
}

header h1 {
    font-size: 1.8rem;
    color: #4CAF50;
}

.settings-btn {
    background: transparent;
    border: 1px solid #666;
    color: #e0e0e0;
    padding: 0.5rem 1rem;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1rem;
}

.settings-btn:hover {
    background: #333;
}

/* ===== CONTAINER ===== */
.container {
    height: calc(100vh - 80px);
    padding: 2rem;
}

/* ===== UPLOAD SECTION ===== */
.upload-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
}

.upload-zone {
    border: 3px dashed #666;
    border-radius: 10px;
    padding: 3rem;
    text-align: center;
    width: 500px;
    background: #252525;
    transition: all 0.3s;
}

.upload-zone:hover,
.upload-zone.dragover {
    border-color: #4CAF50;
    background: #2a2a2a;
}

.upload-icon {
    font-size: 4rem;
    margin-bottom: 1rem;
}

.upload-zone p {
    margin: 0.5rem 0;
    font-size: 1.1rem;
}

.or {
    color: #888;
    margin: 1rem 0;
}

.btn-primary {
    background: #4CAF50;
    color: white;
    border: none;
    padding: 0.8rem 2rem;
    border-radius: 5px;
    font-size: 1rem;
    cursor: pointer;
    margin-top: 1rem;
}

.btn-primary:hover {
    background: #45a049;
}

.selected-path {
    margin-top: 1.5rem;
    padding: 1rem;
    background: #2a2a2a;
    border-radius: 5px;
    max-width: 600px;
    word-break: break-all;
}

.btn-analyze {
    background: #2196F3;
    color: white;
    border: none;
    padding: 1rem 3rem;
    border-radius: 5px;
    font-size: 1.2rem;
    cursor: pointer;
    margin-top: 1.5rem;
}

.btn-analyze:hover {
    background: #1976D2;
}

/* ===== PROGRESS SECTION ===== */
.progress-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
}

.progress-section h2 {
    margin-bottom: 2rem;
    color: #4CAF50;
}

.progress-bar {
    width: 600px;
    height: 30px;
    background: #333;
    border-radius: 15px;
    overflow: hidden;
    margin-bottom: 1rem;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #4CAF50, #2196F3);
    width: 0%;
    transition: width 0.5s;
}

#progressMessage {
    font-size: 1.1rem;
    margin: 0.5rem 0;
}

#progressPercent {
    font-size: 1.5rem;
    font-weight: bold;
    color: #4CAF50;
}

/* ===== RESULTS SECTION ===== */
.results-section {
    height: 100%;
    display: flex;
    flex-direction: column;
}

/* Stats Bar */
.stats-bar {
    display: flex;
    gap: 1rem;
    padding: 1rem;
    background: #252525;
    border-radius: 8px;
    margin-bottom: 1rem;
}

.stat-item {
    flex: 1;
    text-align: center;
    padding: 1rem;
    background: #2a2a2a;
    border-radius: 5px;
}

.stat-label {
    display: block;
    font-size: 0.9rem;
    color: #888;
    margin-bottom: 0.5rem;
}

.stat-value {
    display: block;
    font-size: 1.8rem;
    font-weight: bold;
    color: #4CAF50;
}

.stat-item.error .stat-value {
    color: #F44336;
}

.stat-item.warning .stat-value {
    color: #FF9800;
}

/* Main Content */
.main-content {
    display: flex;
    gap: 1rem;
    flex: 1;
    overflow: hidden;
}

/* Panels */
.left-panel,
.right-panel {
    width: 250px;
    background: #252525;
    border-radius: 8px;
    padding: 1rem;
    overflow-y: auto;
}

.center-panel {
    flex: 1;
    background: #252525;
    border-radius: 8px;
    position: relative;
}

/* File Tree */
.file-tree {
    margin-top: 1rem;
}

.tree-item {
    padding: 0.5rem;
    cursor: pointer;
    border-radius: 3px;
}

.tree-item:hover {
    background: #333;
}

.tree-folder {
    font-weight: bold;
    color: #2196F3;
}

.tree-file {
    color: #e0e0e0;
    padding-left: 1.5rem;
}

/* Graph Container */
.graph-container {
    width: 100%;
    height: 100%;
    border-radius: 8px;
}

.graph-controls {
    position: absolute;
    top: 1rem;
    right: 1rem;
    z-index: 10;
    display: flex;
    gap: 0.5rem;
}

.graph-controls button {
    background: #333;
    border: 1px solid #666;
    color: #e0e0e0;
    padding: 0.5rem;
    border-radius: 5px;
    cursor: pointer;
}

.graph-controls button:hover {
    background: #444;
}

/* Issues Panel */
.issues-tabs {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1rem;
}

.tab-btn {
    flex: 1;
    background: #2a2a2a;
    border: none;
    color: #e0e0e0;
    padding: 0.7rem;
    border-radius: 5px;
    cursor: pointer;
    position: relative;
}

.tab-btn.active {
    background: #4CAF50;
    color: white;
}

.badge {
    position: absolute;
    top: -5px;
    right: -5px;
    background: #F44336;
    color: white;
    border-radius: 50%;
    padding: 2px 6px;
    font-size: 0.7rem;
}

.issues-list {
    max-height: calc(100vh - 300px);
    overflow-y: auto;
}

.issue-item {
    padding: 0.8rem;
    margin-bottom: 0.5rem;
    background: #2a2a2a;
    border-left: 3px solid #666;
    border-radius: 3px;
    cursor: pointer;
}

.issue-item:hover {
    background: #333;
}

.issue-item.error {
    border-left-color: #F44336;
}

.issue-item.warning {
    border-left-color: #FF9800;
}

.issue-item.info {
    border-left-color: #2196F3;
}

.issue-title {
    font-weight: bold;
    margin-bottom: 0.3rem;
}

.issue-location {
    font-size: 0.85rem;
    color: #888;
}

/* ===== MODAL ===== */
.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
}

.modal-content {
    background: #252525;
    margin: 5% auto;
    padding: 2rem;
    border-radius: 10px;
    width: 80%;
    max-width: 900px;
    max-height: 80vh;
    overflow-y: auto;
}

.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
}

.close:hover {
    color: #fff;
}

.modal-body {
    margin-top: 1rem;
}

.modal-section {
    margin-bottom: 1.5rem;
}

.modal-section h4 {
    color: #4CAF50;
    margin-bottom: 0.5rem;
}

.modal-section pre {
    background: #1a1a1a;
    padding: 1rem;
    border-radius: 5px;
    overflow-x: auto;
    color: #e0e0e0;
}

/* ===== SCROLLBAR ===== */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: #1a1a1a;
}

::-webkit-scrollbar-thumb {
    background: #666;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #888;
}

10. ui/static/js/graph.js
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: JavaScript –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞ –∏ UI –ª–æ–≥–∏–∫–∏
javascript// ===== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï =====
let currentProjectId = null;
let graphNetwork = null;
let allResults = null;

// ===== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø =====
document.addEventListener('DOMContentLoaded', function() {
    initUploadHandlers();
    initModalHandlers();
    initSettingsHandlers();
});

// ===== UPLOAD HANDLERS =====
function initUploadHandlers() {
    const uploadZone = document.getElementById('uploadZone');
    const folderInput = document.getElementById('folderInput');
    const browseBtn = document.getElementById('browseBtn');
    const analyzeBtn = document.getElementById('analyzeBtn');

    // Browse button
    browseBtn.addEventListener('click', () => {
        folderInput.click();
    });

    // Folder selection
    folderInput.addEventListener('change', (e) => {
        if (e.target.files.length > 0) {
            const path = e.target.files[0].webkitRelativePath.split('/')[0];
            showSelectedPath(path);
        }
    });

    // Drag & Drop
    uploadZone.addEventListener('dragover', (e) => {
        e.preventDefault();
        uploadZone.classList.add('dragover');
    });

    uploadZone.addEventListener('dragleave', () => {
        uploadZone.classList.remove('dragover');
    });

    uploadZone.addEventListener('drop', (e) => {
        e.preventDefault();
        uploadZone.classList.remove('dragover');
        
        const items = e.dataTransfer.items;
        if (items && items.length > 0) {
            const item = items[0].webkitGetAsEntry();
            if (item && item.isDirectory) {
                showSelectedPath(item.fullPath);
            }
        }
    });

    // Analyze button
    analyzeBtn.addEventListener('click', () => {
        const pathText = document.getElementById('pathText').textContent;
        startAnalysis(pathText);
    });
}

function showSelectedPath(path) {
    document.getElementById('pathText').textContent = path;
    document.getElementById('selectedPath').style.display = 'block';
    document.getElementById('analyzeBtn').style.display = 'block';
}

// ===== ANALYSIS =====
function startAnalysis(projectPath) {
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º progress section
    document.getElementById('uploadSection').style.display = 'none';
    document.getElementById('progressSection').style.display = 'flex';

    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞ –∞–Ω–∞–ª–∏–∑
    fetch('/analyze', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ project_path: projectPath })
    })
    .then(response => response.json())
    .then(data => {
        if (data.project_id) {
            currentProjectId = data.project_id;
            pollProgress(data.project_id);
        } else {
            showError('Failed to start analysis');
        }
    })
    .catch(error => {
        showError('Error: ' + error.message);
    });
}

function pollProgress(projectId) {
    const interval = setInterval(() => {
        fetch(`/progress/${projectId}`)
        .then(response => response.json())
        .then(data => {
            updateProgress(data);

            if (data.status === 'completed') {
                clearInterval(interval);
                loadResults(projectId);
            } else if (data.status === 'error') {
                clearInterval(interval);
                showError(data.message);
            }
        })
        .catch(error => {
            clearInterval(interval);
            showError('Error polling progress: ' + error.message);
        });
    }, 500); // –ö–∞–∂–¥—ã–µ 500ms
}

function updateProgress(data) {
    document.getElementById('progressFill').style.width = data.progress + '%';
    document.getElementById('progressMessage').textContent = data.message;
    document.getElementById('progressPercent').textContent = Math.round(data.progress) + '%';
}

function loadResults(projectId) {
    fetch(`/results/${projectId}`)
    .then(response => response.json())
    .then(data => {
        allResults = data;
        showResults(data);
    })
    .catch(error => {
        showError('Error loading results: ' + error.message);
    });
}

// ===== RESULTS DISPLAY =====
function showResults(data) {
    // –°–∫—Ä—ã–≤–∞–µ–º progress, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º results
    document.getElementById('progressSection').style.display = 'none';
    document.getElementById('resultsSection').style.display = 'block';

    // –û–±–Ω–æ–≤–ª—è–µ–º stats
    updateStats(data.stats);

    // –†–µ–Ω–¥–µ—Ä–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    renderFileTree(data.file_tree);
    renderGraph(data.graph);
    renderIssues(data.issues);
}

function updateStats(stats) {
    document.getElementById('statFiles').textContent = stats.total_files;
    document.getElementById('statFunctions').textContent = stats.total_functions;
    document.getElementById('statClasses').textContent = stats.total_classes;
    document.getElementById('statErrors').textContent = stats.errors;
    document.getElementById('statWarnings').textContent = stats.warnings;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º badges
    document.getElementById('errorCount').textContent = stats.errors;
    document.getElementById('warningCount').textContent = stats.warnings;
    document.getElementById('infoCount').textContent = stats.total_issues - stats.errors - stats.warnings;
}

// ===== FILE TREE =====
function renderFileTree(tree) {
    const container = document.getElementById('fileTree');
    container.innerHTML = '';

    function createTreeNode(item, level = 0) {
        const div = document.createElement('div');
        div.className = item.type === 'folder' ? 'tree-folder tree-item' : 'tree-file tree-item';
        div.style.paddingLeft = (level * 15) + 'px';
        div.textContent = item.type === 'folder' ? 'üìÅ ' + item.name : 'üìÑ ' + item.name;
        
        if (item.type === 'file') {
            div.addEventListener('click', () => {
                filterGraphByFile(item.path);
            });
        }

        container.appendChild(div);

        if (item.children && item.children.length > 0) {
            item.children.forEach(child => createTreeNode(child, level + 1));
        }
    }

    tree.forEach(item => createTreeNode(item));
}

// ===== GRAPH =====
function renderGraph(graphData) {
    const container = document.getElementById('graphContainer');

    // vis.js options
    const options = {
        nodes: {
            shape: 'box',
            font: {
                color: '#ffffff',
                size: 14
            },
            borderWidth: 2,
            shadow: true
        },
        edges: {
            arrows: 'to',
            color: {
                color: '#666666',
                highlight: '#4CAF50'
            },
            smooth: {
                type: 'cubicBezier'
            }
        },
        physics: {
            enabled: true,
            barnesHut: {
                gravitationalConstant: -2000,
                springLength: 150,
                springConstant: 0.04
            }
        },
        interaction: {
            hover: true,
            tooltipDelay: 100
        }
    };

    // –°–æ–∑–¥–∞–µ–º –≥—Ä–∞—Ñ
    const nodes = new vis.DataSet(graphData.nodes);
    const edges = new vis.DataSet(graphData.edges);
    
    const data = { nodes, edges };
    graphNetwork = new vis.Network(container, data, options);

    // Event handlers
    graphNetwork.on('click', function(params) {
        if (params.nodes.length > 0) {
            const nodeId = params.nodes[0];
            showFunctionDetails(nodeId);
        }
    });

    graphNetwork.on('hoverNode', function(params) {
        const nodeId = params.node;
        highlightConnections(nodeId);
    });

    // Graph controls
    document.getElementById('zoomInBtn').addEventListener('click', () => {
        graphNetwork.moveTo({ scale: graphNetwork.getScale() * 1.2 });
    });

    document.getElementById('zoomOutBtn').addEventListener('click', () => {
        graphNetwork.moveTo({ scale: graphNetwork.getScale() * 0.8 });
    });

    document.getElementById('resetZoomBtn').addEventListener('click', () => {
        graphNetwork.moveTo({ scale: 1 });
    });

    document.getElementById('fitBtn').addEventListener('click', () => {
        graphNetwork.fit();
    });
}

function highlightConnections(nodeId) {
    const connectedNodes = graphNetwork.getConnectedNodes(nodeId);
    const connectedEdges = graphNetwork.getConnectedEdges(nodeId);

    // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º —Å–≤—è–∑–∞–Ω–Ω—ã–µ –Ω–æ–¥—ã
    graphNetwork.selectNodes(connectedNodes);
}

function filterGraphByFile(filePath) {
    // –§–∏–ª—å—Ç—Ä—É–µ–º –≥—Ä–∞—Ñ –ø–æ —Ñ–∞–π–ª—É
    const nodes = allResults.graph.nodes.filter(n => n.data.file === filePath);
    const nodeIds = nodes.map(n => n.id);
    
    graphNetwork.selectNodes(nodeIds);
    graphNetwork.fit({
        nodes: nodeIds,
        animation: true
    });
}

// ===== ISSUES =====
function renderIssues(issues) {
    const tabs = document.querySelectorAll('.tab-btn');
    const issuesList = document.getElementById('issuesList');

    // Tab switching
    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            tabs.forEach(t => t.classList.remove('active'));
            tab.classList.add('active');
            
            const category = tab.dataset.tab;
            renderIssueCategory(issues[category], issuesList);
        });
    });

    // –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º errors
    renderIssueCategory(issues.errors, issuesList);
}

function renderIssueCategory(issueList, container) {
    container.innerHTML = '';

    if (issueList.length === 0) {
        container.innerHTML = '<p style="text-align: center; color: #888;">No issues found</p>';
        return;
    }

    issueList.forEach(issue => {
        const div = document.createElement('div');
        div.className = `issue-item ${issue.severity}`;
        
        div.innerHTML = `
            <div class="issue-title">${issue.type.replace('_', ' ').toUpperCase()}</div>
            <div>${issue.message}</div>
            <div class="issue-location">${issue.file}:${issue.line}</div>
        `;

        div.addEventListener('click', () => {
            if (issue.function) {
                showFunctionDetails(issue.function);
            }
        });

        container.appendChild(div);
    });
}

// ===== FUNCTION DETAILS MODAL =====
function initModalHandlers() {
    const modal = document.getElementById('functionModal');
    const closeBtn = modal.querySelector('.close');

    closeBtn.addEventListener('click', () => {
        modal.style.display = 'none';
    });

    window.addEventListener('click', (e) => {
        if (e.target === modal) {
            modal.style.display = 'none';
        }
    });
}

function showFunctionDetails(functionName) {
    const func = allResults.graph.nodes.find(n => n.id === functionName);
    
    if (!func) return;

    const modal = document.getElementById('functionModal');
    
    document.getElementById('modalFunctionName').textContent = func.label;
    document.getElementById('modalFile').textContent = func.data.file + ':' + func.data.line;
    document.getElementById('modalParams').textContent = func.data.params.join(', ') || 'None';
    document.getElementById('modalDescription').textContent = func.data.description;
    document.getElementById('modalCode').textContent = func.data.code;
    
    const calls = allResults.graph.edges
        .filter(e => e.from === functionName)
        .map(e => e.to);
    document.getElementById('modalCalls').textContent = calls.join(', ') || 'None';

    modal.style.display = 'block';
}

// ===== SETTINGS MODAL =====
function initSettingsHandlers() {
    const modal = document.getElementById('settingsModal');
    const settingsBtn = document.getElementById('settingsBtn');
    const closeBtn = modal.querySelector('.close');
    const saveBtn = document.getElementById('saveSettingsBtn');

    settingsBtn.addEventListener('click', () => {
        modal.style.display = 'block';
    });

    closeBtn.addEventListener('click', () => {
        modal.style.display = 'none';
    });

    saveBtn.addEventListener('click', () => {
        const newModel = document.getElementById('modelSelect').value;
        
        fetch('/config/model', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ model: newModel })
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                alert('Model updated successfully!');
                modal.style.display = 'none';
            }
        })
        .catch(error => {
            alert('Error updating model: ' + error.message);
        });
    });
}

// ===== ERROR HANDLING =====
function showError(message) {
    alert('Error: ' + message);
    location.reload();
}
```

---

## 11. requirements.txt
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
```
Flask==3.0.0
requests==2.31.0
python-dotenv==1.0.0
networkx==3.2.1
```

---

## 12. .env
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å –≤ git!)
```
# OpenRouter API Key
OPENROUTER_API_KEY=your_key_here

# LLM Model (optional, can be changed in UI)
LLM_MODEL=anthropic/claude-3-5-haiku-20241022

13. README.md
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
markdown# Project Analyzer

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –æ–ø–∏—Å–∞–Ω–∏–π —á–µ—Ä–µ–∑ LLM.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
pip install -r requirements.txt
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
2. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à OpenRouter API –∫–ª—é—á:
```
OPENROUTER_API_KEY=sk-or-v1-...
```

## –ó–∞–ø—É—Å–∫
```bash
python ui/app.py
```

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: `http://localhost:8000`

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –≤ Upload Zone
2. –ù–∞–∂–º–∏—Ç–µ "Start Analysis"
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (2-3 –º–∏–Ω—É—Ç—ã)
4. –ò–∑—É—á–∞–π—Ç–µ –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –ø—Ä–æ–±–ª–µ–º—ã, –æ–ø–∏—Å–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ Python/JS/TS –ø—Ä–æ–µ–∫—Ç–æ–≤
- ‚úÖ –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º (–º–µ—Ä—Ç–≤—ã–π –∫–æ–¥, –æ–±—Ä—ã–≤—ã –ª–æ–≥–∏–∫–∏, –∑–∞–≥–ª—É—à–∫–∏)
- ‚úÖ LLM-–æ–ø–∏—Å–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π (—á—Ç–æ –¥–µ–ª–∞–µ—Ç –∏ –ö–ê–ö)
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ –°–º–µ–Ω–∞ LLM –º–æ–¥–µ–ª–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Python + Flask
- vis.js (–≥—Ä–∞—Ñ)
- OpenRouter API (LLM)
- NetworkX (–∞–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)